var mapLinks = document.querySelectorAll(".buy-button"),
    mapBuyPopup = document.querySelector(".modal-buying"),
    mapClose = document.querySelector(".modal-content-close-lesson"),
    link = document.querySelector(".write-link"),
    popup = document.querySelector(".write-us"),
    closeBtn = document.querySelector(".modal-content-close"),
    modalPopup = document.querySelector(".modal-popup"),
    mapLink = document.querySelector(".contacts-button-map"),
    mapPopup = document.querySelector(".modal-map"),
    closeModalMap = document.querySelector(".modal-content-close-modal-map");

function addModalShowSelector(a) { modalPopup.classList.add("show"), a.classList.add("modal-show") }

function removeModalShowSelector() { document.querySelectorAll(".modal-show").forEach(a => { a.classList.remove("modal-show") }), modalPopup.classList.remove("show") }
mapLinks && mapLinks.forEach(a => { a.addEventListener("click", function(a) { removeModalShowSelector(), a.preventDefault(), addModalShowSelector(mapBuyPopup) }) }), mapClose && mapClose.addEventListener("click", function(a) { a.preventDefault(), removeModalShowSelector() }), window.addEventListener("keydown", function(a) { 27 === a.keyCode && (mapPopup.classList.contains("modal-show") && (a.preventDefault(), removeModalShowSelector()), mapBuyPopup.classList.contains("modal-show") && (a.preventDefault(), removeModalShowSelector())) }), link && link.addEventListener("click", function(a) { removeModalShowSelector(), a.preventDefault(), addModalShowSelector(popup) }), closeBtn && closeBtn.addEventListener("click", function(a) { a.preventDefault(), removeModalShowSelector() }), closeModalMap && closeModalMap.addEventListener("click", function(a) { a.preventDefault(), removeModalShowSelector() }), mapLink && mapLink.addEventListener("click", function(a) { removeModalShowSelector(), a.preventDefault(), addModalShowSelector(mapPopup) }), modalPopup && modalPopup.addEventListener("click", function(a) { a.target === modalPopup && removeModalShowSelector() });